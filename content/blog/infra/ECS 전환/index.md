---
title: "ECS 전환"
date: "2024-01-10T15:54:38.995Z"
description: <설명>
tags:
  - 태그1
  - 태그2
---

처음에 AWS의 `Elastic Beanstalk` 를 사용했는데 개발자 로컬환경에서 배포하는 형식이였다. 이걸 채택한건 다른 인프라 환경을 수동으로 구성하기에는 시간이 없었고, 기존 backend 배포가 이런 형식으로 되어있었기에 배포 환경을 통일하자는 의견에서 나온 선택이였다.
EB환경 배포에는 몇가지 문제가 있다.

1. 개발자 로컬환경에서 CLI로만 배포가 가능.
2. 배포 프로세스가 수동.
3. 업로드 가능한 파일 limit이 500MB.
4. Node 16 까지 지원.

1번 -> 이 말은 내가 휴가를 가면 다른 사람에게 로컬 배포환경을 인수인계 하고 가야한다.
2번 -> 빌드부터 배포까지 모든 과정이 수동으로 이뤄졌기 때문에 실수로 환경변수를 잘못 설정하면 dev 환경으로 배포될 가능성이 충분히 있다. (휴먼에러)
3번 -> 처음에는 어찌저찌 업로드가 가능했지만, 빌드하고 node_modules 폴더도 같이 업로드가 되기 때문에 docker image도 가볍게 500MB를 넘었다.
4번 -> 이때 LTS가 node 18 이였는데 반년이 넘도록 EB에서는 Node 16 환경만 구성이 가능했다.
